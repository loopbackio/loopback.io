"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[6121],{3905:function(e,t,o){o.d(t,{Zo:function(){return c},kt:function(){return d}});var a=o(7294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t){if(null==e)return{};var o,a,n=function(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var p=a.createContext({}),s=function(e){var t=a.useContext(p),o=t;return e&&(o="function"==typeof e?e(t):l(l({},t),e)),o},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,r=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),m=s(o),d=n,h=m["".concat(p,".").concat(d)]||m[d]||u[d]||r;return o?a.createElement(h,l(l({ref:t},c),{},{components:o})):a.createElement(h,l({ref:t},c))}));function d(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=o.length,l=new Array(r);l[0]=m;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:n,l[1]=i;for(var s=2;s<r;s++)l[s]=o[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,o)}m.displayName="MDXCreateElement"},3063:function(e,t,o){o.r(t),o.d(t,{frontMatter:function(){return i},contentTitle:function(){return p},metadata:function(){return s},assets:function(){return c},toc:function(){return u},default:function(){return d}});var a=o(7462),n=o(3366),r=(o(7294),o(3905)),l=["components"],i={title:"Build REST APIs for CRUD operations from a model without coding",date:new Date("2020-04-22T00:00:00.000Z"),authors:"nabdelgadir",slug:"model-to-rest-api-feature",tags:["feature","REST"]},p=void 0,s={permalink:"/blog/model-to-rest-api-feature",editUrl:"https://github.com/loopbackio/loopback-blog/blog/2020/2020-04-22-model-to-rest-api.md",source:"@site/blog/2020/2020-04-22-model-to-rest-api.md",title:"Build REST APIs for CRUD operations from a model without coding",description:"Originally published on strongloop.com",date:"2020-04-22T00:00:00.000Z",formattedDate:"April 22, 2020",tags:[{label:"feature",permalink:"/blog/tags/feature"},{label:"REST",permalink:"/blog/tags/rest"}],readingTime:2.765,truncated:!0,authors:[{name:"Nora Abdelgadir",title:"LoopBack Maintainer",url:"https://github.com/nabdelgadir",imageURL:"https://avatars0.githubusercontent.com/u/42985749",key:"nabdelgadir"}],frontMatter:{title:"Build REST APIs for CRUD operations from a model without coding",date:"2020-04-22T00:00:00.000Z",authors:"nabdelgadir",slug:"model-to-rest-api-feature",tags:["feature","REST"]},prevItem:{title:"Community Q&A Monthly Digest - April 2020",permalink:"/blog/2020-april-slack-qa"},nextItem:{title:"LoopBack 4 2020 Q1 Overview",permalink:"/blog/loopback-4-2020-q1-overview"}},c={authorsImageUrls:[void 0]},u=[{value:"Implementation",id:"implementation",children:[],level:2},{value:"Example Application",id:"example-application",children:[],level:2},{value:"Future Work",id:"future-work",children:[],level:2},{value:"Call to Action",id:"call-to-action",children:[],level:2}],m={toc:u};function d(e){var t=e.components,o=(0,n.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},m,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Originally published on ",(0,r.kt)("a",{parentName:"em",href:"https://strongloop.com"},"strongloop.com"))),(0,r.kt)("p",null,"As LoopBack 3 is expected to reach its EOL by the end of this year, we have been working hard to achieve feature parity between LoopBack 3 and LoopBack 4. One feature of LoopBack 3 that we did not have in LoopBack 4 yet was the ability to go directly from only a model definition and model configuration to fully-featured CRUD REST API. Unlike LoopBack 3, LoopBack 4 relied on intermediate repository and controller classes in order to go from a model defintion class to use REST API. One thing that LoopBack 4 strives to do is make common tasks as easy as possible, while allowing advanced composition with loosely-coupled artifacts. So, after completing tasks from the related ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/issues/2036"},"epic"),", we are now proud to announce that LoopBack 4 now offers support for going from a model definition to REST API with no custom repository or controller classes. "),(0,r.kt)("p",null,"In LoopBack 4, the ",(0,r.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/Model.html"},"model definition")," provides the schema and the ",(0,r.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/DataSources.html"},"datasource")," configures how to access the database. Starting with these two artifacts, the user can directly expose REST API by using the following CLI command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"lb4 rest-crud\n")),(0,r.kt)("p",null,"For example, if you have a model ",(0,r.kt)("inlineCode",{parentName:"p"},"Product")," and datasource ",(0,r.kt)("inlineCode",{parentName:"p"},"db"),", you can use the command as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"lb4 rest-crud --model Product --datasource db\n")),(0,r.kt)("p",null,"The command can also take in multiple models at the same time. You can find more information on how to use the command in the ",(0,r.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/Rest-Crud-generator.html"},"REST CRUD generator documentation"),"."),(0,r.kt)("p",null,"What the command does is it creates a configuration file describing properties of the REST API:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"/src/model-endpoints/product.rest-config.ts")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"import {ModelCrudRestApiConfig} from '@loopback/rest-crud';\nimport {Product} from '../models';\n\nmodule.exports = <ModelCrudRestApiConfig>{\n    model: Product, // name of the model\n    pattern: 'CrudRest', // make sure to use this pattern\n    dataSource: 'db', // name of the datasource\n    basePath: '/products',\n};\n")),(0,r.kt)("p",null,"Then it adds ",(0,r.kt)("inlineCode",{parentName:"p"},"CrudRestComponent")," from ",(0,r.kt)("inlineCode",{parentName:"p"},"@loopback/rest-crud")," to the application:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"src/application.ts")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"import {CrudRestComponent} from '@loopback/rest-crud';\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"this.component(CrudRestComponent);\n")),(0,r.kt)("p",null,"Documentation for this feature can be found in ",(0,r.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/Creating-crud-rest-apis.html"},"Creating CRUD REST APIs from a model"),". "),(0,r.kt)("h2",{id:"implementation"},"Implementation"),(0,r.kt)("p",null,"We implemented ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/tree/master/packages/rest-crud"},(0,r.kt)("inlineCode",{parentName:"a"},"@loopback/rest-crud"))," based on the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/tree/master/packages/model-api-builder"},(0,r.kt)("inlineCode",{parentName:"a"},"@loopback/model-api-builder"))," package. This model API builder is what builds CRUD REST API from the model definition and datasource."),(0,r.kt)("h2",{id:"example-application"},"Example Application"),(0,r.kt)("p",null,"To demonstrate this functionality with an example, we added a new example based on the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/tree/master/examples/todo"},(0,r.kt)("inlineCode",{parentName:"a"},"Todo")," example"),". ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/tree/master/examples/rest-crud"},(0,r.kt)("inlineCode",{parentName:"a"},"@loopback/example-rest-crud"))," mimics the behavior of the ",(0,r.kt)("inlineCode",{parentName:"p"},"Todo")," example, but does not include any custom repository or controller classes like the ",(0,r.kt)("inlineCode",{parentName:"p"},"Todo")," example. To download this example, use the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"lb4 example rest-crud\n")),(0,r.kt)("h2",{id:"future-work"},"Future Work"),(0,r.kt)("p",null,"While the main epic is now complete, there are additional out of scope tasks that are part of future work. If you would like to contribute, please see the following issues:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next/issues/2483"},"From relation definition to REST API with auto-generated repository/controller classes")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next/issues/2737"},"KeyValueRestController extension")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next/issues/2482"},"Expose custom remote methods"))),(0,r.kt)("p",null,"The LoopBack team appreciates all your contributions!"),(0,r.kt)("h2",{id:"call-to-action"},"Call to Action"),(0,r.kt)("p",null,"In 2020, we look forward to helping you and seeing you around! LoopBack's success depends on you. We appreciate your continuous support and engagement to make LoopBack even better and meaningful for your API creation experience. Here's how you can join us and help the project:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next/issues"},"Report issues"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next/blob/master/docs/CONTRIBUTING.md"},"Contribute")," code and documentation."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next/labels/good%20first%20issue"},'Open a pull request on one of our "good first issues"'),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next/issues/110"},"Join")," our user group.")))}d.isMDXComponent=!0}}]);